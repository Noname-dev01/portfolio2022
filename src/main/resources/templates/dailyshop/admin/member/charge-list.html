<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/dailyshop/admin/common/head :: adminHead"></head>
<body>
<script type="text/javascript">
    $(document).ready(function(){
    });

</script>
<div th:replace="/dailyshop/admin/common/top::header"></div>
<div id="maininner"><!-- maininner (s)-->
    <div class="cc-tab-con">
        <a href="javascript:tabChange('1');" class="cc-tab-item">사용자 관리</a>		<!--// on : 현재 위치 //-->
        <a href="javascript:tabChange('2');" class="cc-tab-item">상품 추가</a>
        <a href="javascript:tabChange('3');" class="cc-tab-item">상품 목록</a>
        <a href="javascript:void(0);" class="cc-tab-item on">충전 요청 리스트</a>
    </div>
</div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="cart-view-area">
                    <div class="cart-view-table aa-wishlist-table">
                        <form action="">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead style="text-align: center;">
                                    <tr>
                                        <th style="width: 5%;">번호</th>
                                        <th style="width: 5%;">회원 아이디</th>
                                        <th style="width: 5%;">회원 이름</th>
                                        <th style="width: 5%;">충전할 금액</th>
                                        <th style="width: 5%;">요청 날짜</th>
                                        <th style="width: 5%;">승인 상태</th>
                                        <th style="width: 5%;">삭제</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="chargeList: ${chargeListAll}" style="text-align: center;">
                                        <td style="vertical-align: middle;" th:text="${chargeList.id}">번호</td>
                                        <td style="vertical-align: middle;" th:text="${chargeList.member.username}">회원 아이디</td>
                                        <td style="vertical-align: middle;" th:text="${chargeList.member.name}">회원 이름</td>
                                        <td style="vertical-align: middle;" th:text="${chargeList.chargeAmount}">충전할 금액</td>
                                        <td style="vertical-align: middle;" th:text="${chargeList.createDate}">요청 날짜</td>
                                        <td th:if="${chargeList.chargeStatus} == ${chargeList.chargeStatus.COMPLETE}" style="vertical-align: middle;text-align: center;">승인 완료</td>
                                        <td style="vertical-align: middle;text-align: center;" th:unless="${chargeList.chargeStatus} == ${chargeList.chargeStatus.COMPLETE}">
                                            <form onsubmit="return successCharge();" th:action="@{/dailyShop/admin/charge/{chargeListId}(chargeListId=${chargeList.id})}" th:method="POST">
                                                <input type="submit" value="승인">
                                            </form>
                                        <td style="vertical-align: middle;text-align: center;"><a class="remove" th:href="@{/dailyShop/admin/charge/delete/{id}(id=${chargeList.id})}"><fa class="fa fa-close"></fa></a></td>
                                        <script th:inline="javascript">
                                            /*<![CDATA[*/
                                            let chargeStatus = [[${chargeList.getChargeStatus()}]];
                                            let ready = [[${chargeList.getChargeStatus().COMPLETE}]];
                                            function successCharge(){
                                                if (chargeStatus == ready){
                                                    alert("승인 완료되었습니다.")
                                                    return true
                                                }
                                            }
                                            /*]]>*/
                                        </script>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>